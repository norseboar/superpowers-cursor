# Systematic Debugging

Random fixes waste time and create new bugs. Quick patches mask underlying issues. ALWAYS find root cause before attempting fixes. Symptom fixes are failure.

## When This Applies

Use for ANY technical issue:

- Test failures
- Bugs in production
- Unexpected behavior
- Performance problems
- Build failures
- Integration issues

**Use ESPECIALLY when:**

- Under time pressure
- "Just one quick fix" seems obvious
- Multiple fixes already tried
- Previous fix didn't work
- You don't fully understand the issue

## The Iron Law

```
NO FIXES WITHOUT ROOT CAUSE INVESTIGATION FIRST
```

If you haven't completed root cause investigation, you cannot propose fixes.

## Principles

- **Read error messages completely** - They often contain the exact solution
- **Reproduce consistently** - Don't guess if you can't reproduce
- **Check recent changes** - What changed that could cause this?
- **Gather evidence in multi-component systems** - Add diagnostic instrumentation at component boundaries
- **Trace data flow backward** - Use root-cause-tracing when errors are deep in call stack
- **Find working examples** - Compare broken code to similar working code
- **Read reference implementations completely** - Don't skim, understand fully
- **Form single hypothesis** - Test one thing at a time
- **Test minimally** - Smallest possible change to test hypothesis
- **Create failing test first** - Must reproduce issue before fixing
- **Fix root cause, not symptom** - Address the source of the problem
- **One fix at a time** - No bundled changes or "while I'm here" improvements
- **If 3+ fixes failed: Question architecture** - Pattern indicates architectural problem

## Common Mistakes

- "Quick fix for now, investigate later" → Complete Phase 1 investigation first
- "Just try changing X and see if it works" → Form hypothesis, test minimally
- "Add multiple changes, run tests" → One change at a time
- "Skip the test, I'll manually verify" → Create failing test first
- "It's probably X, let me fix that" → Investigate root cause first
- "I don't fully understand but this might work" → Say "I don't understand X", ask for help
- Proposing solutions before tracing data flow → Trace backward to find source
- "One more fix attempt" (after 2+ failures) → Question architecture instead
- Each fix reveals new problem in different place → Architectural problem, discuss with user

## Red Flags

If you catch yourself thinking ANY of these, STOP and return to Phase 1:

- "Quick fix for now, investigate later"
- "Just try changing X and see if it works"
- "Add multiple changes, run tests"
- "Skip the test, I'll manually verify"
- "It's probably X, let me fix that"
- "I don't fully understand but this might work"
- "Pattern says X but I'll adapt it differently"
- "Here are the main problems: [lists fixes without investigation]"
- Proposing solutions before tracing data flow
- **"One more fix attempt" (when already tried 2+)**
- **Each fix reveals new problem in different place**

## Rationalizations

| Excuse                                       | Reality                                                                 |
| -------------------------------------------- | ----------------------------------------------------------------------- |
| "Issue is simple, don't need process"        | Simple issues have root causes too. Process is fast for simple bugs.    |
| "Emergency, no time for process"             | Systematic debugging is FASTER than guess-and-check thrashing.          |
| "Just try this first, then investigate"      | First fix sets the pattern. Do it right from the start.                 |
| "I'll write test after confirming fix works" | Untested fixes don't stick. Test first proves it.                       |
| "Multiple fixes at once saves time"          | Can't isolate what worked. Causes new bugs.                             |
| "Reference too long, I'll adapt the pattern" | Partial understanding guarantees bugs. Read it completely.              |
| "I see the problem, let me fix it"           | Seeing symptoms ≠ understanding root cause.                             |
| "One more fix attempt" (after 2+ failures)   | 3+ failures = architectural problem. Question pattern, don't fix again. |

## Integration

**REQUIRED when error is deep in call stack:** Use `.cursor/rules/superpowers/root-cause-tracing.mdc` rule for backward tracing technique.

**REQUIRED after each change:** Use `.cursor/rules/superpowers/verification-before-completion.mdc` rule to stop and ask user to verify before making next change.

**Complementary:** defense-in-depth (add validation at multiple layers).

For detailed workflows, use the `.cursor/commands/superpowers/debug.md` command.
